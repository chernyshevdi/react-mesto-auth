{"ast":null,"code":"import { baseUrl } from \"../utils/constants\";\n\nclass Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  singUp(password, email) {\n    return fetch(`${baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"password\": password,\n        \"email\": email\n      })\n    });\n  }\n\n  singIn(password, email) {\n    return fetch(`${baseUrl}/signin`, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"password\": password,\n        \"email\": email\n      })\n    });\n  }\n\n  tokenCheck() {\n    return fetch(`${baseUrl}/signin`, {\n      method: 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\": `Bearer ${''}`\n      }\n    });\n  }\n\n  _checkFetch(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getUserData() {\n    //получаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      headers: this.headers\n    }).then(res => {\n      return this._checkFetch(res);\n    });\n  }\n\n  getCards() {\n    //получаем данные карточек\n    return fetch(this.baseUrl + \"/cards\", {\n      headers: this.headers\n    }).then(res => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchUserData(name, about) {\n    //передаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about\n      })\n    }).then(res => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchCard(nameCard, linkCard) {\n    //передаем данные карточки созданные пользователем\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: nameCard,\n        link: linkCard\n      })\n    }).then(res => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteCard(cardId) {\n    //удаляем карточку пользователя\n    return fetch(this.baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers\n    }).then(res => {\n      return this._checkFetch(res);\n    });\n  }\n\n  addLike(cardId) {\n    //передаем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: this.headers\n    }).then(res => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteLike(cardId) {\n    //удаляем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers\n    }).then(res => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchAvatar(avatar) {\n    //передаем данные об аватаре\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(res => {\n      return this._checkFetch(res);\n    });\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: \"https://nomoreparties.co/v1/cohort-28\",\n  headers: {\n    authorization: \"37a57185-a3c1-401e-aba8-ce2242497099\",\n    \"Content-Type\": \"application/json\"\n  }\n});\nexport { api };\nexport default Api;","map":{"version":3,"sources":["/Users/dmitrijcernysev/Desktop/projects/react-mesto-auth/mesto-react/src/utils/Api.js"],"names":["baseUrl","Api","constructor","options","headers","singUp","password","email","fetch","method","body","JSON","stringify","singIn","tokenCheck","_checkFetch","res","ok","json","Promise","reject","status","getUserData","then","getCards","patchUserData","name","about","patchCard","nameCard","linkCard","link","deleteCard","cardId","addLike","deleteLike","patchAvatar","avatar","api","authorization"],"mappings":"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","sourcesContent":["import {baseUrl} from \"../utils/constants\"\n\nclass Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  singUp(password, email) {\n    return fetch(`${baseUrl}/signup`, {\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"password\": password,\n        \"email\": email\n      })\n    })\n  }\n\n  singIn(password, email) {\n    return fetch(`${baseUrl}/signin`,{\n      method: 'POST',\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        \"password\": password,\n        \"email\": email\n      })\n    })\n  }\n\n  tokenCheck() {\n    return fetch(`${baseUrl}/signin`, {\n      method: 'GET',\n      headers: {\n        \"Content-Type\": \"application/json\",\n        \"Authorization\" : `Bearer ${''}`\n      }\n    })\n  }\n\n  _checkFetch(res) {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(`Ошибка: ${res.status}`);\n    }\n  }\n\n  getUserData() {\n    //получаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  getCards() {\n    //получаем данные карточек\n    return fetch(this.baseUrl + \"/cards\", {\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchUserData(name, about) {\n    //передаем данные пользователя\n    return fetch(this.baseUrl + \"/users/me\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: name,\n        about: about,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchCard(nameCard, linkCard) {\n    //передаем данные карточки созданные пользователем\n    return fetch(this.baseUrl + \"/cards\", {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: nameCard,\n        link: linkCard,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteCard(cardId) {\n    //удаляем карточку пользователя\n    return fetch(this.baseUrl + \"/cards/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  addLike(cardId) {\n    //передаем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  deleteLike(cardId) {\n    //удаляем лайки\n    return fetch(this.baseUrl + \"/cards/likes/\" + cardId, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n\n  patchAvatar(avatar) {\n    //передаем данные об аватаре\n    return fetch(this.baseUrl + \"/users/me/avatar\", {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: avatar,\n      }),\n    }).then((res) => {\n      return this._checkFetch(res);\n    });\n  }\n}\n\nconst api = new Api({\n  baseUrl: \"https://nomoreparties.co/v1/cohort-28\",\n  headers: {\n    authorization: \"37a57185-a3c1-401e-aba8-ce2242497099\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport { api };\nexport default Api;\n"]},"metadata":{},"sourceType":"module"}