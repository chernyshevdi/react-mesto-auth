[{"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/index.js":"1","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/App.js":"2","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/reportWebVitals.js":"3","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/Main.js":"4","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/Footer.js":"5","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/Header.js":"6","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/PopupWithForm.js":"7","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/ImagePopup.js":"8","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/Card.js":"9","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/utils/Api.js":"10","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/contexts/CurrentUserContext.js":"11","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/contexts/CardsContext.js":"12","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/EditProfilePopup.js":"13","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/EditAvatarPopup.js":"14","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/AddPlacePopup.js":"15"},{"size":514,"mtime":1635238655480,"results":"16","hashOfConfig":"17"},{"size":4630,"mtime":1636026080513,"results":"18","hashOfConfig":"17"},{"size":362,"mtime":1635238655480,"results":"19","hashOfConfig":"17"},{"size":1764,"mtime":1636019952900,"results":"20","hashOfConfig":"17"},{"size":199,"mtime":1636019924656,"results":"21","hashOfConfig":"17"},{"size":179,"mtime":1636019929939,"results":"22","hashOfConfig":"17"},{"size":839,"mtime":1636025626432,"results":"23","hashOfConfig":"17"},{"size":724,"mtime":1636019934856,"results":"24","hashOfConfig":"17"},{"size":2136,"mtime":1636019819274,"results":"25","hashOfConfig":"17"},{"size":2709,"mtime":1636019973958,"results":"26","hashOfConfig":"17"},{"size":85,"mtime":1635856037840,"results":"27","hashOfConfig":"17"},{"size":79,"mtime":1635859712672,"results":"28","hashOfConfig":"17"},{"size":1997,"mtime":1636021841315,"results":"29","hashOfConfig":"17"},{"size":915,"mtime":1636026029087,"results":"30","hashOfConfig":"17"},{"size":1440,"mtime":1636026434887,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},"1e3cb1n",{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37"},{"filePath":"38","messages":"39","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"51","messages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"34"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64"},{"filePath":"65","messages":"66","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/index.js",[],["68","69"],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/App.js",["70"],"import Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport PopupWithForm from \"./PopupWithForm.js\";\nimport ImagePopup from \"./ImagePopup.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { api } from \"../utils/Api.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup.js\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    api\n      .getUserData()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  useEffect(() => {\n    api\n      .getCards()\n      .then((res) => {\n        setCards(res);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    !isLiked\n      ? api\n          .addLike(card._id)\n          .then((newCard) => {\n            setCards((state) =>\n              state.map((c) => (c._id === card._id ? newCard : c))\n            );\n          })\n          .catch((err) => {\n            console.log(err);\n          })\n      : api\n          .deleteLike(card._id)\n          .then((res) => {\n            setCards((state) =>\n              state.map((c) => (c._id === card._id ? res : c))\n            );\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n  }\n\n  function handleCardDelete(card) {\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id !== card._id));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setSelectedCard();\n  }\n\n  function handleUpdateUser(data) {\n    api\n      .patchUserData(data.name, data.about)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateAvatar(data) {\n    api\n      .patchAvatar(data.avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  function handleUpdateCard(data) {\n    api\n      .patchCard(data.name, data.link)\n      .then((res) => {\n        setCards([res, ...cards]);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n\n        <CardsContext.Provider value={cards}>\n          <Main\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleUpdateCard}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n\n          <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n        </CardsContext.Provider>\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/reportWebVitals.js",[],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/Main.js",["71","72"],"import React, { useEffect, useState } from \"react\";\nimport Card from \"./Card.js\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\nimport { CardsContext } from \"../contexts/CardsContext\";\n\nfunction Main(props) {\n  const userContext = React.useContext(CurrentUserContext);\n  const cardsData = React.useContext(CardsContext);\n\n  return (\n    <>\n      <section className=\"profile\">\n        <div className=\"profile__avatar\">\n          <div className=\"profile__overlay\">\n            <img\n              className=\"profile__image\"\n              src={userContext.avatar}\n              alt=\"Аватар профиля\"\n              onClick={props.onEditAvatar}\n            />\n          </div>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__text\">\n            <h1 className=\"profile__name\">{userContext.name}</h1>\n            <p className=\"profile__description\">{userContext.about}</p>\n          </div>\n          <button\n            className=\"profile__edit-button\"\n            type=\"button\"\n            aria-label=\"Редактирование профиля\"\n            onClick={props.onEditProfile}\n          ></button>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          aria-label=\"Добавление фотографий\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        {cardsData.map((item) => (\n          <Card\n            onCardClick={props.onCardClick}\n            key={item._id}\n            card={item}\n            onCardLike={props.onCardLike}\n            onCardDelete={props.onCardDelete}\n          />\n        ))}\n      </section>\n    </>\n  );\n}\n\nexport default Main;\n","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/Footer.js",[],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/Header.js",[],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/PopupWithForm.js",[],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/ImagePopup.js",[],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/Card.js",["73","74"],"import React, { useEffect, useState } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nfunction Card(props) {\n  const userContext = React.useContext(CurrentUserContext);\n  // Определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = props.card.owner._id === userContext._id;\n\n  // Создаём переменную, которую после зададим в `className` для кнопки удаления\n  const cardDeleteButtonClassName = `element__delete ${\n    isOwn ? \"element__delete_active\" : \"element__delete\"\n  }`;\n\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = props.card.likes.some((i) => i._id === userContext._id);\n\n  // Создаём переменную, которую после зададим в `className` для кнопки лайка\n  const cardLikeButtonClassName = `element__like ${\n    isLiked ? \"element__like_active\" : \"element__like\"\n  }`;\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    props.onCardDelete(props.card);\n  }\n\n  return (\n    <div className=\"element\">\n      <img\n        className=\"element__img\"\n        src={props.card.link}\n        alt={props.card.name}\n        onClick={handleClick}\n      />\n      <div className=\"element__info\">\n        <button\n          className={cardDeleteButtonClassName}\n          type=\"button\"\n          aria-label=\"Удалить\"\n          onClick={handleDeleteClick}\n        ></button>\n        <h2 className=\"element__name\">{props.card.name}</h2>\n        <div className=\"element__like-group\">\n          <button\n            className={cardLikeButtonClassName}\n            type=\"button\"\n            aria-label=\"Лайк\"\n            onClick={handleLikeClick}\n          ></button>\n          <p className=\"element__like-counter\">{props.card.likes.length}</p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/utils/Api.js",[],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/contexts/CurrentUserContext.js",[],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/contexts/CardsContext.js",[],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/EditProfilePopup.js",[],"/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/EditAvatarPopup.js",["75","76"],"import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction EditAvatarPopup(props) {\n  const avatarRef = React.useRef(null);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"avatar\"}\n      title={\"Обновить аватар?\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        id=\"popup__avatar\"\n        name=\"avatarUrl\"\n        placeholder=\"Ссылка на аватар\"\n        required\n        ref={avatarRef}\n      />\n      <span className=\"popup__input-error popup__avatar-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","/Users/dmitrijcernysev/Desktop/projects/MestoReact/mesto-react/mesto-react/src/components/AddPlacePopup.js",["77"],"import React, { useState, useEffect } from \"react\";\nimport PopupWithForm from \"./PopupWithForm.js\";\n\nfunction AddPlacePopup(props) {\n  const [name, setName] = useState(\"\");\n  const [link, setLink] = useState(\"\");\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: name,\n      link: link,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      name={\"type_card-add\"}\n      title={\"Новое место\"}\n      isOpen={props.isOpen ? \"popup_opened\" : \"\"}\n      onClose={props.onClose}\n      buttonText={\"Сохранить\"}\n      onSubmit={handleSubmit}\n    >\n      <input\n        type=\"text\"\n        className=\"popup__input\"\n        id=\"popup__location\"\n        name=\"addFormName\"\n        placeholder=\"Название\"\n        required\n        onChange={handleChangeName}\n        value={name || \"\"}\n      />\n      <span className=\"popup__input-error popup__location-error\"></span>\n      <input\n        type=\"url\"\n        className=\"popup__input\"\n        id=\"popup__link\"\n        name=\"addFormUrl\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        onChange={handleChangeLink}\n        value={link || \"\"}\n      />\n      <span className=\"popup__input-error popup__link-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n",{"ruleId":"78","replacedBy":"79"},{"ruleId":"80","replacedBy":"81"},{"ruleId":"82","severity":1,"message":"83","line":4,"column":8,"nodeType":"84","messageId":"85","endLine":4,"endColumn":21},{"ruleId":"82","severity":1,"message":"86","line":1,"column":17,"nodeType":"84","messageId":"85","endLine":1,"endColumn":26},{"ruleId":"82","severity":1,"message":"87","line":1,"column":28,"nodeType":"84","messageId":"85","endLine":1,"endColumn":36},{"ruleId":"82","severity":1,"message":"86","line":1,"column":17,"nodeType":"84","messageId":"85","endLine":1,"endColumn":26},{"ruleId":"82","severity":1,"message":"87","line":1,"column":28,"nodeType":"84","messageId":"85","endLine":1,"endColumn":36},{"ruleId":"82","severity":1,"message":"87","line":1,"column":17,"nodeType":"84","messageId":"85","endLine":1,"endColumn":25},{"ruleId":"82","severity":1,"message":"86","line":1,"column":27,"nodeType":"84","messageId":"85","endLine":1,"endColumn":36},{"ruleId":"82","severity":1,"message":"86","line":1,"column":27,"nodeType":"84","messageId":"85","endLine":1,"endColumn":36},"no-native-reassign",["88"],"no-negated-in-lhs",["89"],"no-unused-vars","'PopupWithForm' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'useState' is defined but never used.","no-global-assign","no-unsafe-negation"]